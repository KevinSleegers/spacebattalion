SpaceBattalion.MainMenu=function(){},SpaceBattalion.MainMenu.prototype={create:function(){this.backgroundImage=this.add.tileSprite(0,0,SpaceBattalion.windowWidth,SpaceBattalion.windowHeight,"mainBg"),this.music=this.add.audio("loadingMusic"),this.music.play("",0,1,!0),this.startButton=this.add.button(this.world.centerX,this.world.centerY,"",this.startGame,this,1,0,2),this.startButton.x=this.world.centerX-this.startButton.width/2,this.startButton.y=this.world.centerY-this.startButton.height/2-105,this.makeText(this.startButton,"Start game"),this.controlsButton=this.add.button(this.world.centerX,this.world.centerY,"","",this,1,0,2),this.controlsButton.x=this.world.centerX-this.controlsButton.width/2,this.controlsButton.y=this.world.centerY-this.controlsButton.height/2-35,this.makeText(this.controlsButton,"Controls"),this.statisticsButton=this.add.button(this.world.centerX,this.world.centerY,"","",this,1,0,2),this.statisticsButton.x=this.world.centerX-this.statisticsButton.width/2,this.statisticsButton.y=this.world.centerY-this.statisticsButton.height/2+35,this.makeText(this.statisticsButton,"Statistics"),this.toggleSoundButton=this.add.button(this.world.centerX,this.world.centerY,"",this.toggleSound,this,1,0,2),this.toggleSoundButton.x=this.world.centerX-this.toggleSoundButton.width/2,this.toggleSoundButton.y=this.world.centerY-this.toggleSoundButton.height/2+105,this.makeText(this.toggleSoundButton,"Sound off")},update:function(){this.game.device.desktop&&(this.backgroundImage.tilePosition.x-=2,this.backgroundImage.tilePosition.y+=1);var t=this;window.onblur=function(){t.music.pause()};var t=this;window.onfocus=function(){SpaceBattalion.music&&t.music.resume()}},startGame:function(){this.music.stop(),this.state.start("Game")},makeText:function(t,i){var s=this.add.bitmapText(t.x,t.y,"C64",i,48);s.tint="0xd77e00",s.updateText(),s.x=t.width/2-s.textWidth/2,s.y=t.height/2-s.textHeight/2+7,s.align="center",t.addChild(s)},toggleSound:function(t){this.music.isPlaying?(this.music.pause(),t.children[0].setText("Sound on"),t.children[0].updateText(),t.children[0].x=t.width/2-t.children[0].textWidth/2,SpaceBattalion.music=!1):(this.music.resume(),t.children[0].setText("Sound off"),t.children[0].updateText(),t.children[0].x=t.width/2-t.children[0].textWidth/2,SpaceBattalion.music=!0)}};